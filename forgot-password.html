<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Forgot Password | StoneBeam-NH</title>
    <link rel="stylesheet" href="forgot-password.css">
</head>
<body>

    <div class="auth-card">
        <div class="header">
            <h2>Recovery</h2>
            <p>Reset your access</p>
        </div>

        <div id="msg-box" class="msg-box"></div>

        <form id="forgotForm">
            <div class="input-group">
                <label>Enter Registered Phone or Email</label>
                <input type="text" id="recoveryInput" placeholder="Phone or Email" required>
            </div>

            <button type="submit" class="gradient-btn">Send Reset Link</button>
        </form>

        <div class="links">
            <p>Remembered it? <a href="login.html">Back to Login</a></p>
        </div>
    </div>

    <script>
        document.getElementById('forgotForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const input = document.getElementById('recoveryInput').value;
            const msgBox = document.getElementById('msg-box');

            let users = JSON.parse(localStorage.getItem('sb_users')) || [];
            
            // Check if user exists
            const user = users.find(u => u.phone === input || u.email === input);

            if (user) {
                // Simulation of sending a link
                showMsg("Reset link sent to " + user.name + "'s contact details.", "success");
            } else {
                showMsg("No account found with these details.", "error");
            }

            function showMsg(text, type) {
                msgBox.style.display = 'block';
                msgBox.className = 'msg-box ' + type;
                msgBox.innerText = text;
            }
        });
    </script>
    <script src="forgot-password.js"></script>
</body>
</html>