<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orders Pending - StoneBeam-NH</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="orders-styles.css">
    <style>
        .quotes-section { background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0; }
        .quotes-section h4 { color: #333; margin-bottom: 0.5rem; }
        .quote-item { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid #eee; }
        .quote-info { display: flex; gap: 1rem; align-items: center; }
        .quote-price { font-weight: bold; color: #27ae60; }
        .quote-timeline { color: #666; }
        .quote-actions { display: flex; gap: 0.5rem; }
        .btn-accept { background: #27ae60; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }
        .btn-reject { background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }
        .status-accepted { color: #27ae60; font-weight: bold; }
        .status-rejected { color: #e74c3c; font-weight: bold; }
        .no-quotes { color: #666; font-style: italic; }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="firebase.js"></script>
</head>
<body>

    <nav class="navbar">
        <div class="logo">
            <i class="fa-solid fa-screwdriver-wrench"></i> StoneBeam-NH
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="orders.html" class="active">Orders Pending</a></li>
            <li><a href="help_support.html">Services</a></li>
            <li><a href="premium.html">Premium</a></li>
        </ul>
        <div class="nav-actions">
            <i class="fa-regular fa-bell"></i>
            <i class="fa-solid fa-magnifying-glass"></i>
            <a href="login.html" id="login-link" class="login-btn"><i class="fa-regular fa-user"></i> Login</a>
        </div>
    </nav>

    <section class="hero" style="background-image: linear-gradient(to right, rgba(0,0,0,0.5), rgba(142, 68, 173, 0.8)), url('https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=2000&auto=format&fit=crop');">
        <div class="hero-overlay">
            <div class="hero-content">
                <h1>Orders Pending</h1>
                <p>View and manage your pending construction orders and quotations.</p>
            </div>
        </div>
    </section>

    <div class="main-container">
        <div class="content-header">
            <h2>My Project Orders</h2>
            <div class="header-actions">
                <div class="search-box">
                    <i class="fa-solid fa-search"></i>
                    <input type="text" id="search-orders" placeholder="Search my projects...">
                </div>
                <button class="btn-primary" id="new-request-btn">
                    <i class="fa-solid fa-plus"></i> Request Quotation
                </button>
            </div>
        </div>

        <div class="dashboard-stats">
            <div class="stat-card">
                <div class="stat-icon pending">
                    <i class="fa-solid fa-hourglass-half"></i>
                </div>
                <div class="stat-info">
                    <h3 id="pending-count">5</h3>
                    <p>Awaiting Quotes</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon progress">
                    <i class="fa-solid fa-tools"></i>
                </div>
                <div class="stat-info">
                    <h3 id="progress-count">3</h3>
                    <p>In Progress</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon completed">
                    <i class="fa-solid fa-check-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 id="completed-count">8</h3>
                    <p>Completed</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon revenue">
                    <i class="fa-solid fa-rupee-sign"></i>
                </div>
                <div class="stat-info">
                    <h3 id="spent-amount">₹45L</h3>
                    <p>Total Spent</p>
                </div>
            </div>
        </div>

        <div class="filters-section">
            <div class="filters">
                <button class="filter-btn active" data-filter="all">All Projects</button>
                <button class="filter-btn" data-filter="requested">Requested</button>
                <button class="filter-btn" data-filter="quoted">Received Quotes</button>
                <button class="filter-btn" data-filter="in-progress">In Progress</button>
                <button class="filter-btn" data-filter="completed">Completed</button>
            </div>
            <div class="sort-options">
                <select id="sort-orders">
                    <option value="date-desc">Latest First</option>
                    <option value="date-asc">Oldest First</option>
                    <option value="budget-desc">Highest Budget</option>
                    <option value="budget-asc">Lowest Budget</option>
                    <option value="deadline">Deadline</option>
                </select>
            </div>
        </div>

        <div class="orders-container">
            <div id="orders-list" class="orders-list">
                <!-- Orders will be dynamically loaded here -->
            </div>
            
            <div id="no-orders" class="no-orders" style="display:none;">
                <i class="fa-solid fa-inbox"></i>
                <h3>No Orders Found</h3>
                <p>Try adjusting your search or filter criteria</p>
            </div>
        </div>

        <div class="pagination" id="pagination">
            <button class="page-btn" id="prev-page" disabled>&laquo; Previous</button>
            <span class="page-info" id="page-info">Page 1 of 1</span>
            <button class="page-btn" id="next-page" disabled>Next &raquo;</button>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-left">
                <div class="logo">
                    <i class="fa-solid fa-screwdriver-wrench"></i> StoneBeam-NH
                </div>
                <p>Your Trusted partner in modern construction management.</p>
                <div class="copyright">
                    &copy; 2025 StoneBeam-NH. All rights reserved.
                </div>
            </div>
            
            <div class="footer-links">
                <h4>Company</h4>
                <ul>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="carrier.html">Careers</a></li>
                    <li><a href="press.html">Press</a></li>
                </ul>
            </div>

            <div class="footer-links">
                <h4>Resources</h4>
                <ul>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="guides.html">Guides</a></li>
                    <li><a href="help_support.html">Help Center</a></li>
                </ul>
            </div>

            <div class="footer-contact">
                <h4>Contact</h4>
                <p><i class="fa-regular fa-envelope"></i> stonebeamnh@gmail.com</p>
                <p><i class="fa-solid fa-phone"></i> +91-9106120047</p>
            </div>
        </div>
        <div class="footer-bottom">
            <span><a href="privacy.html">Privacy Policy</a></span>
            <span><a href="terms.html"> Terms of Service</a></span>
        </div>
    </footer>

    <!-- Order Details Modal -->
    <div id="order-modal" class="modal">
        <div class="modal-content order-modal-content">
            <div class="modal-header">
                <h3 id="modal-order-title">Order Details</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="order-info-grid">
                    <div class="info-section">
                        <h4>Client Information</h4>
                        <p><strong>Name:</strong> <span id="modal-client-name"></span></p>
                        <p><strong>Email:</strong> <span id="modal-client-email"></span></p>
                        <p><strong>Phone:</strong> <span id="modal-client-phone"></span></p>
                        <p><strong>Location:</strong> <span id="modal-location"></span></p>
                    </div>
                    <div class="info-section">
                        <h4>Project Details</h4>
                        <p><strong>Budget:</strong> <span id="modal-budget"></span></p>
                        <p><strong>Deadline:</strong> <span id="modal-deadline"></span></p>
                        <p><strong>Status:</strong> <span id="modal-status"></span></p>
                        <p><strong>Priority:</strong> <span id="modal-priority"></span></p>
                    </div>
                </div>
                <div class="info-section full-width">
                    <h4>Description</h4>
                    <p id="modal-description"></p>
                </div>
                <div class="info-section full-width">
                    <h4>Progress Timeline</h4>
                    <div class="timeline" id="modal-timeline">
                        <!-- Timeline items will be added dynamically -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="update-status-btn">Update Status</button>
                <button class="btn-primary" id="contact-client-btn">Contact Client</button>
            </div>
        </div>
    </div>

    <!-- New Order Modal -->
    <div id="new-order-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Order</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="new-order-form" class="order-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="client-name">Client Name</label>
                            <input type="text" id="client-name" required>
                        </div>
                        <div class="form-group">
                            <label for="client-email">Client Email</label>
                            <input type="email" id="client-email" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="client-phone">Phone Number</label>
                            <input type="tel" id="client-phone" required>
                        </div>
                        <div class="form-group">
                            <label for="project-location">Location</label>
                            <input type="text" id="project-location" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="project-title">Project Title</label>
                            <input type="text" id="project-title" required>
                        </div>
                        <div class="form-group">
                            <label for="project-budget">Budget (₹)</label>
                            <input type="number" id="project-budget" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="project-deadline">Deadline</label>
                            <input type="date" id="project-deadline" required>
                        </div>
                        <div class="form-group">
                            <label for="project-priority">Priority</label>
                            <select id="project-priority" required>
                                <option value="low">Low</option>
                                <option value="medium" selected>Medium</option>
                                <option value="high">High</option>
                                <option value="urgent">Urgent</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="project-description">Project Description</label>
                        <textarea id="project-description" rows="4" required></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-outline" id="cancel-order">Cancel</button>
                <button type="submit" form="new-order-form" class="btn-primary">Create Order</button>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
    <script src="orders.js"></script>
</body>
</html>